(this.webpackJsonphomodoro=this.webpackJsonphomodoro||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(20),r=n.n(i),c=n(11),d=n(12),s=n(14),l=n(13),u=n(15),m=n(2),f=n(21),g=(n(17),function(){var e=Date.now()+Math.ceil(100*Math.random());return e=JSON.stringify(e)});function b(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return"".concat(t,"\uc6d4 ").concat(n,"\uc77c")}var p=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={id:"",content:"",date:b()},n.handleChange=function(e){n.setState({content:e.target.value,id:g()})},n.handleSubmit=function(e){var t=n.props,a=t.from,o=t.onCreate;e.preventDefault(),o(n.state,a),n.setState({id:"",content:""})},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"todo-form__group field",onSubmit:this.handleSubmit},o.a.createElement("input",{type:"input",className:"todo-form__field",placeholder:"\ud560 \uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",name:"content",id:"name",required:!0,autoComplete:"off",value:this.state.content,onChange:this.handleChange}),o.a.createElement("label",{htmlFor:"name",className:"todo-form__label"},this.state.date,", \ud560 \uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"))}}]),t}(a.Component),v=function(e){return o.a.createElement("button",{className:"delete__btn",onClick:function(t){var n=e.id,a=e.from;(0,e.onRemove)(n,a)}},"\uc0ad\uc81c")},h=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={id:"",content:n.props.item.content},n.handleChange=function(e,t){n.setState({content:t.target.value,id:e})},n.handleSubmit=function(e){var t=n.props,a=t.from,o=t.onUpdate;e.preventDefault(),o(n.state,a),n.setState({id:"",content:""})},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:this.handleSubmit,onBlur:this.handleSubmit},o.a.createElement("input",{autoFocus:"on",type:"input",className:"inline__field",autoComplete:"none",value:this.state.content,onChange:function(t){return e.handleChange(e.props.item.id,t)}}))}}]),t}(a.Component),O=n(37),E=n(5),j=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},_=function(e,t){localStorage.setItem(e,JSON.stringify(t))},N=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):[]},S=function(e){return e<10?"0"+e:e},C=function(e,t){var n=S(Math.floor(e/36e5)),a=S(Math.floor(e%36e5/6e4)),o=S(Math.floor(e%6e4/1e3));return"text"===t?"".concat(n>0?"".concat(n,"\uc2dc\uac04 "):"").concat(a,"\ubd84 ").concat(o,"\ucd08"):":"===t?"".concat(n>0?"".concat(n,":"):"").concat(a,":").concat(o):void 0},y=function(e,t){var n=new Date(e),a=n.getHours(),o=a<13?"\uc624\uc804":"\uc624\ud6c4",i=S("\uc624\uc804"===o?a:a-12),r=S(n.getMinutes());return"text"===t?"".concat(o," ").concat(a>0?"".concat(i,"\uc2dc "):"").concat(r,"\ubd84"):":"===t?"".concat(o," ").concat(a>0?"".concat(i,":"):"").concat(r):void 0},D=function(e){var t=e.onClick,n=Object(a.useState)(15e5),i=Object(E.a)(n,2),r=i[0],c=i[1],d=Object(a.useState)(!0),s=Object(E.a)(d,2),l=s[0],u=s[1],m=Object(a.useState)(1e3),f=Object(E.a)(m,2),g=f[0],b=f[1];return j((function(){c(r-1e3),r<1999&&u(!1)}),l?1e3:null),j((function(){b(g+1e3)}),l?null:1e3),o.a.createElement("div",{className:"doing__timer"},C(r,":"),l?"":o.a.createElement("div",{className:"doing__timeout"},"+ ",C(g,":")),l?o.a.createElement("button",{onClick:t,className:"doing__btn doing__stopbtn--timein",name:"timerOff"},"\uc815\uc9c0"):o.a.createElement("button",{onClick:t,className:"doing__btn doing__stopbtn--timeout",name:"timerOff"},"\uc815\uc9c0"))},I=function(e){var t=e.onClick;return o.a.createElement("div",{className:"doing__timer"},"25:00",o.a.createElement("button",{className:"doing__btn doing__startbtn",onClick:t,name:"timerOn"},"\uc2dc\uc791"))},k=function(e){var t=e.doing,n=e.onTimer,i=e.from,r=e.onCreate,c=Object(a.useState)(!1),d=Object(E.a)(c,2),s=d[0],l=d[1],u=Object(a.useState)({}),f=Object(E.a)(u,2),g=f[0],b=f[1],p=Object(a.useState)(N("DONE")),v=Object(E.a)(p,2),h=v[0],j=v[1],S=function(){b.apply(void 0,Object(O.a)(t))};Object(a.useEffect)(S,[t]);var C=function(e){l(!s),y(!s),n(!s)},y=function(e){e?b(Object(m.a)({},g,{id:Date.now(),start:Date.now()})):(b(Object(m.a)({},g,{end:Date.now()})),_("DONE",[].concat(Object(O.a)(h),[Object(m.a)({},g,{end:Date.now()})])),j(N("DONE")),r(Object(m.a)({},g,{end:Date.now()}),i),S())};return s?o.a.createElement(D,{onClick:C}):o.a.createElement(I,{onClick:C})},w=function(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(""),d=Object(E.a)(c,2),s=d[0],l=d[1],u=function(e){r(!0),l(parseInt(e.target.id))},m=function(t,n){e.onUpdate(t,n),l(!1)};return e.data.map((function(e,t){return o.a.createElement("div",{className:"done-item",key:e.id,index:t},o.a.createElement("div",{className:"done-item__content"},o.a.createElement("div",{className:"done-item__header"},o.a.createElement("div",{className:"done-item__title",id:e.id,onDoubleClick:u},i&&s===e.id?o.a.createElement(h,{item:e,from:"done",onUpdate:m}):e.content),o.a.createElement("div",{className:"done-item__totaltime"},C(function(e,t){var n=parseInt(e);return parseInt(t)-n}(e.start,e.end),"text"))),o.a.createElement("div",{className:"done__timestamp"},y(e.start,":"),"-",y(e.end,":"))))}))},x=function(e){var t,n=e.sort((function(e,t){return t.start-e.start}));return(t="date",function(e){return e.reduce((function(e,n){var a=n[t];return e[a]=(e[a]||[]).concat(n),e}),{})})(n)},R=function(e,t,n){var a=Array.from(e),o=a.splice(t,1),i=Object(E.a)(o,1)[0];return a.splice(n,0,i),_("TODO",a),a},T=function(e,t,n,a){var o=Array.from(e),i=Array.from(t),r=o.splice(n.index,1),c=Object(E.a)(r,1)[0];i.splice(a.index,0,c);var d={};return d[n.droppableId]=o,d[a.droppableId]=i,d},U=function(e,t,n){return["".concat(e,"-list"),t?"".concat(e,"-list--isDraggingOver"):"",n>0?"".concat(e,"-list--isContain"):""].join(" ")},L=function(e,t){return["".concat(e,"-item"),t?"".concat(e,"-item--isDragging"):""].join(" ")},M="TODO",A="DONE",P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).id=0,n.state={todos:N(M),doings:[],dones:N(A),editing:!1,editingId:"",timerOn:!1},n.handleCreate=function(e,t){if("todo"===t){var a=n.state.todos;n.setState({todos:a.concat(Object(m.a)({id:n.id++},e))}),_(M,a.concat(Object(m.a)({id:n.id++},e)))}else if("doing"===t){var o=n.state.dones;n.setState({dones:o.concat(Object(m.a)({id:n.id++},e))})}},n.handleRemove=function(e,t){if("todo"===t){var a=n.state.todos;n.setState({todos:a.filter((function(t){return t.id!==e}))}),_(M,a.filter((function(t){return t.id!==e})))}else if("doing"===t){var o=n.state.doings;n.setState({doings:o.filter((function(t){return t.id!==e}))})}},n.handleUpdate=function(e,t){if("todo"===t){var a=n.state.todos;n.setState({todos:a.map((function(t){return e.id===t.id?Object(m.a)({},t,{},e):t})),editing:!1}),_(M,a.map((function(t){return e.id===t.id?Object(m.a)({},t,{},e):t})))}else if("doing"===t){var o=n.state.doings;n.setState({doings:o.map((function(t){return e.id===t.id?Object(m.a)({},t,{},e):t})),editing:!1})}else if("done"===t){var i=n.state.dones;n.setState({dones:i.map((function(t){return e.id===t.id?Object(m.a)({},t,{},e):t})),editing:!1}),_(A,i.map((function(t){return e.id===t.id?Object(m.a)({},t,{},e):t})))}},n.getGroupedList=function(){var e=x(n.state.dones);return Object.keys(e).map((function(t,a){return o.a.createElement("div",{key:a},o.a.createElement("div",{className:"done__date"},t),o.a.createElement(w,{data:e[t],onUpdate:n.handleUpdate}))}))},n.handleToggleEdit=function(e){var t=n.state.editing,a=e.target.dataset.rbdDraggableId;n.setState({editing:!t}),n.setState({editingId:a})},n.handleToggleTimeon=function(e){n.setState({timerOn:e})},n.id2List={todo:"todos",doing:"doings"},n.getList=function(e){return n.state[n.id2List[e]]},n.onDragEnd=function(e){var t=e.source,a=e.destination;if(a)if(t.droppableId===a.droppableId){var o=R(n.getList(t.droppableId),t.index,a.index),i={todos:o};"doing"===t.droppableId&&(i={doings:o}),n.setState(i)}else{var r=T(n.getList(t.droppableId),n.getList(a.droppableId),t,a);n.setState({todos:r.todo,doings:r.doing}),_(M,r.todo)}},n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(f.a,{onDragEnd:this.onDragEnd},o.a.createElement("div",{className:"todo__container"},o.a.createElement(p,{from:"todo",onCreate:this.handleCreate}),o.a.createElement(f.c,{droppableId:"todo"},(function(t,n){return o.a.createElement("div",{ref:t.innerRef,className:U("todo",n.isDraggingOver)},e.state.todos.map((function(t,n){return o.a.createElement(f.b,{key:t.id,draggableId:t.id,index:n},(function(n,a){return o.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:Object(m.a)({},n.draggableProps.style),className:L("todo",a.isDragging),onDoubleClick:e.handleToggleEdit}),e.state.editing&&e.state.editingId===t.id?o.a.createElement(h,{item:t,from:"todo",onUpdate:e.handleUpdate}):t.content,o.a.createElement(v,{id:t.id,from:"todo",onRemove:e.handleRemove}))}))})),t.placeholder)}))),o.a.createElement("div",{className:"doing__container"},this.state.doings.length>0?o.a.createElement("div",{className:"doing-guide--onStage"},"\uc9c0\uae08 \uc9d1\uc911\ud574\uc11c \ud560 \uc77c"):"",o.a.createElement(f.c,{droppableId:"doing"},(function(t,n){return o.a.createElement("div",{ref:t.innerRef,className:U("doing",n.isDraggingOver,e.state.doings.length)},e.state.doings.length>0?"":o.a.createElement("div",{className:"doing-guide"}," ","\ud560 \uc77c\uc744 ",o.a.createElement("br",null)," \uc5ec\uae30\uc5d0 \ub04c\uc5b4\ub2e4 \ub193\uc73c\uc138\uc694"),e.state.doings.map((function(t,n){return e.state.timerOn?o.a.createElement("div",{key:n,className:"doing-item--timeOn"},t.content):o.a.createElement(f.b,{key:t.id,draggableId:t.id,index:n},(function(n,a){return o.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:Object(m.a)({},n.draggableProps.style),className:L("doing",a.isDragging),onDoubleClick:e.handleToggleEdit}),e.state.editing&&e.state.editingId===t.id?o.a.createElement(h,{item:t,from:"doing",onUpdate:e.handleUpdate}):t.content,o.a.createElement(v,{id:t.id,from:"doing",onRemove:e.handleRemove}))}))})),t.placeholder)})),this.state.doings.length>0?o.a.createElement(k,{onTimer:this.handleToggleTimeon,doing:this.state.doings,onCreate:this.handleCreate,from:"doing"}):""),o.a.createElement("div",{className:"done__container"},o.a.createElement("div",{className:"done-list__title"},"\uc644\ub8cc\ud55c \ubaa9\ub85d",o.a.createElement("span",{className:this.state.dones.length>0?"blind":""},"\uc774 \uc5ec\uae30 \uc313\uc5ec\uc694")),o.a.createElement("div",{className:"todo-list"},this.getGroupedList())))}}]),t}(a.Component),J=n(54),H=n(16),B=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(J.a,null,o.a.createElement("header",{className:"header"},"Hoing ",o.a.createElement("span",{className:"header__overline"},"\uc9d1\uc911+\ubfcc\ub4ef")),o.a.createElement("div",{className:"dnd__container"},o.a.createElement(H.a,{path:"/",component:P})))}}]),t}(a.Component);r.a.render(o.a.createElement(B,null),document.getElementById("root"))},17:function(e,t,n){},56:function(e,t,n){e.exports=n(100)}},[[56,1,2]]]);
//# sourceMappingURL=main.8e830ae0.chunk.js.map